{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","console","log","delete","concat","Person","props","react_default","a","createElement","name","number","onClick","window","confirm","personsService","setPersons","persons","filter","person","setPersonModified","setTimeout","Filter","value","onChange","Persons","personsToShow","showAll","toUpperCase","includes","showPersons","map","App_Person","key","PersonForm","onSubmit","addNumber","newName","handleNameChange","newNumber","handleNumberChange","type","Notification","message","className","App","_useState","useState","_useState2","Object","slicedToArray","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setShowPersons","_useState9","_useState10","setShowAll","_useState11","_useState12","personModified","useEffect","initialPersons","length","App_Notification","App_Filter","event","target","App_PersonForm","preventDefault","returnedPerson","undefined","personObject","App_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.2c3ead86.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst annihilate = (id) => {\n    console.log('poistetaan', id)\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, annihilate }","import React, { useState, useEffect } from 'react'\nimport personsService from './services/persons'\nimport './index.css'\n\nconst Person = (props) => {\n  const handleClick = () => {\n    console.log('click')\n    if (window.confirm(`Poistetaanko ${props.name}?`)) {\n      personsService\n        .annihilate(props.id)\n        .then(() => { props.setPersons(props.persons.filter(person => person.id !== props.id)) })\n      props.setPersonModified(`Poistettiin ${props.name} puhelinluettelosta`)\n      setTimeout(() => {\n        props.setPersonModified(null)\n      }, 3000);\n    }\n\n  }\n  return (\n    <li>{props.name} {props.number}<button onClick={() => handleClick()}>poista</button></li>\n  )\n}\n\nconst Filter = (props) => {\n  return (\n    <div>\n      rajaa näytettäviä\n        <input\n        value={props.value}\n        onChange={props.onChange}\n      />\n    </div>\n  )\n\n}\n\nconst Persons = (props) => {\n  const names = () => personsToShow.map(person =>\n    <Person\n      key={person.name}\n      name={person.name}\n      number={person.number}\n      id={person.id}\n      persons={props.persons}\n      setPersons={props.setPersons}\n      setPersonModified={props.setPersonModified}\n    />)\n  const personsToShow = props.showAll\n    ? props.persons\n    : props.persons.filter(person => person.name.toUpperCase().includes(props.showPersons.toUpperCase()))\n\n  return (\n    <div>\n      <ul>\n        {names()}\n      </ul>\n    </div>\n  )\n}\n\nconst PersonForm = (props) => {\n  return (\n    <div>\n      <form onSubmit={props.addNumber}>\n        <div>\n          nimi: <input\n            value={props.newName}\n            onChange={props.handleNameChange}\n          />\n        </div>\n        <div>\n          numero: <input\n            value={props.newNumber}\n            onChange={props.handleNumberChange}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">lisää</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nconst Notification = (props) => {\n  if (props.message === null) {\n    return null\n  }\n  return (\n    <div className='notification'>\n      {props.message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [showPersons, setShowPersons] = useState('')\n  const [showAll, setShowAll] = useState(true)\n  const [personModified, setPersonModified] = useState(null)\n\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n  console.log('render', persons.length, 'persons')\n\n  const addNumber = (event) => {\n    event.preventDefault()\n    const searchName = persons.map(person => person.name)\n    if (searchName.includes(newName)) {\n\n      setPersonModified(`${newName} on jo luettelossa`)\n      setTimeout(() => {\n        setPersonModified(null)\n      }, 3000);\n\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n\n      personsService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n        })\n\n    } else if (newName === undefined || newName === \"\") {\n\n      setPersonModified(`Nimi puuttuu`)\n      setTimeout(() => {\n        setPersonModified(null)\n      }, 3000);\n\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n\n      personsService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n        })\n\n    } else if (newNumber === undefined || newNumber === \"\") {\n\n      setPersonModified(`Numero puuttuu`)\n      setTimeout(() => {\n        setPersonModified(null)\n      }, 3000);\n\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n\n      personsService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n        })\n\n    }\n    else {\n\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n\n      personsService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n        })\n\n      setPersonModified(`Lisättiin ${personObject.name} puhelinluetteloon`)\n      setTimeout(() => {\n        setPersonModified(null)\n      }, 3000);\n\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleWantedChange = (event) => {\n    console.log(event.target.value)\n    const searched = event.target.value\n    if (searched.length > 0) {\n      setShowAll(false)\n    }\n    setShowPersons(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      <Notification message={personModified} />\n      <Filter\n        value={showPersons}\n        onChange={handleWantedChange}\n      />\n      <h3>lisää uusi</h3>\n      <PersonForm\n        addNumber={addNumber}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numerot</h2>\n      <Persons\n        persons={persons}\n        showAll={showAll}\n        showPersons={showPersons}\n        setPersons={setPersons}\n        setPersonModified={setPersonModified}\n      />\n    </div>\n  )\n\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}